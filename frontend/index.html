<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WatchEarn - Watch Videos, Earn Rewards</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>
<body>
    <!-- Screen: Welcome (Signup / Login) -->
    <div id="screen-welcome" class="screen screen-welcome">
        <div class="auth-container">
            <div class="auth-card">
                <h1 class="auth-logo"><img src="Black_Modern_A_letter_Logo-removebg-preview.png" alt="WatchEarn"></h1>
                <p class="auth-tagline">Watch Videos. Earn Rewards.</p>
                <div class="auth-tabs">
                    <button type="button" class="auth-tab active" data-tab="login">Login</button>
                    <button type="button" class="auth-tab" data-tab="signup">Sign Up</button>
                </div>
                <form id="form-login" class="auth-form">
                    <label class="form-label">Email</label>
                    <input type="email" id="login-email" class="form-input" required placeholder="your@email.com" autocomplete="email">
                    <label class="form-label">Password</label>
                    <input type="password" id="login-password" class="form-input" required placeholder="Password" autocomplete="current-password">
                    <button type="submit" class="btn btn-primary btn-block">Login</button>
                </form>
                <form id="form-signup" class="auth-form hidden">
                    <label class="form-label">Full Name</label>
                    <input type="text" id="signup-name" class="form-input" required placeholder="Your name">
                    <label class="form-label">Email</label>
                    <input type="email" id="signup-email" class="form-input" required placeholder="your@email.com" autocomplete="email">
                    <label class="form-label">Phone (JazzCash)</label>
                    <input type="tel" id="signup-phone" class="form-input" required placeholder="03XX-XXXXXXX">
                    <label class="form-label">Password</label>
                    <input type="password" id="signup-password" class="form-input" required placeholder="Password" autocomplete="new-password">
                    <button type="submit" class="btn btn-primary btn-block">Sign Up</button>
                </form>
                <p id="auth-message" class="auth-message hidden"></p>
            </div>
        </div>
    </div>

    <!-- Screen: Choose Plan -->
    <div id="screen-plans" class="screen screen-plans hidden">
        <div class="auth-container">
            <div class="plans-card">
                <h2 class="plans-title">Choose Your Plan</h2>
                <p class="plans-subtitle">Select a plan and pay via JazzCash. After payment approval you will get full access.</p>
                <div class="plans-grid" id="plans-grid">
                    <div class="plan-option" data-plan-id="basic" data-amount="500">
                        <h3 class="plan-name">Basic</h3>
                        <p class="plan-price">PKR 500</p>
                        <p class="plan-desc">Daily 15 Videos. Earn PKR 10 per video.</p>
                        <button type="button" class="btn btn-primary btn-select-plan">Select</button>
                    </div>
                    <div class="plan-option" data-plan-id="standard" data-amount="1000">
                        <h3 class="plan-name">Standard</h3>
                        <p class="plan-price">PKR 1,000</p>
                        <p class="plan-desc">Daily 15 Videos. Earn PKR 15 per video.</p>
                        <button type="button" class="btn btn-primary btn-select-plan">Select</button>
                    </div>
                    <div class="plan-option" data-plan-id="premium" data-amount="2000">
                        <h3 class="plan-name">Premium</h3>
                        <p class="plan-price">PKR 2,000</p>
                        <p class="plan-desc">Daily 15 Videos. Earn PKR 20 per video.</p>
                        <button type="button" class="btn btn-primary btn-select-plan">Select</button>
                    </div>
                </div>
                <button type="button" class="btn btn-text" id="btn-logout-plans">Logout</button>
            </div>
        </div>
    </div>

    <!-- Screen: Payment (JazzCash / EasyPaisa + slip upload) -->
    <div id="screen-payment" class="screen screen-payment hidden">
        <div class="auth-container">
            <div class="payment-card">
                <h2 class="payment-title">Complete Payment</h2>
                <div class="payment-instructions">
                    <h3 class="payment-instructions-title">Send payment manually to:</h3>
                    <div class="payment-accounts">
                        <div class="payment-account">
                            <span class="payment-account-label">JazzCash</span>
                            <span class="payment-account-number" id="jazzcash-number">03083869891</span>
                            <span class="payment-account-name" id="jazzcash-name">Asam Tahira</span>
                        </div>
                    </div>
                    <p class="payment-amount-display">Amount to pay: <strong id="payment-amount-display">PKR 0</strong></p>
                </div>
                <form id="form-payment" class="payment-form">
                    <label class="form-label">Your JazzCash Number</label>
                    <input type="tel" id="payment-phone" class="form-input" required placeholder="03XX-XXXXXXX">
                    <label class="form-label">Upload Payment Slip (screenshot or image)</label>
                    <div class="file-upload-wrap">
                        <input type="file" id="payment-slip" class="file-input" accept="image/*" required>
                        <label for="payment-slip" class="file-label">
                            <span class="file-label-text" id="file-label-text">Choose file</span>
                        </label>
                    </div>
                    <div id="slip-preview" class="slip-preview hidden"></div>
                    <button type="submit" class="btn btn-primary btn-block" id="btn-submit-payment">Submit for Approval</button>
                </form>
                <p id="payment-message" class="auth-message hidden"></p>
                <button type="button" class="btn btn-text" id="btn-back-plans">Change Plan</button>
            </div>
        </div>
    </div>

    <!-- Screen: Pending Approval -->
    <div id="screen-pending" class="screen screen-pending hidden">
        <div class="auth-container">
            <div class="pending-card">
                <div class="pending-icon-wrap">
                    <i class="ph ph-warning-circle pending-icon"></i>
                </div>
                <h2 class="pending-title">Waiting for Approval</h2>
                <p class="pending-desc">Your payment slip has been submitted. We will verify and approve your account shortly. You will get access to the site once approved.</p>
                <p class="pending-hint">Check back later or contact support if it takes more than 24 hours.</p>
                <button type="button" class="btn btn-text" id="btn-logout-pending">Logout</button>
            </div>
        </div>
    </div>

    <!-- Screen: Main App (only after approval) -->
    <div id="screen-main" class="screen screen-main hidden">
        <div class="app-layout">
            <!-- Left Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <a href="index.html" class="sidebar-logo"><img src="Black_Modern_A_letter_Logo-removebg-preview.png" alt="WatchEarn"></a>
                </div>
                <nav class="sidebar-nav">
                    <a href="how-it-works.html" class="sidebar-link">
                        <i class="ph ph-info"></i> How It Works
                    </a>
                    <a href="videos.html" class="sidebar-link">
                        <i class="ph ph-play-circle"></i> Videos
                    </a>
                    <a href="dashboard.html" class="sidebar-link">
                        <i class="ph ph-chart-bar"></i> Dashboard
                    </a>
                </nav>
                <div class="sidebar-footer">
                    <button type="button" class="btn btn-text btn-logout-sidebar" id="btn-logout-sidebar">Logout</button>
                </div>
            </aside>

            <!-- Main Content Area -->
            <div class="main-content-wrap">
                <header class="header">
                    <div class="container header-inner">
                        <div class="mobile-logo-wrap">
                             <a href="index.html" class="logo mobile-only"><img src="Black_Modern_A_letter_Logo-removebg-preview.png" alt="WatchEarn"></a>
                        </div>
                        
                        <div class="header-right">
                            <div class="user-profile-wrap">
                                <div class="user-profile" id="user-profile-btn">
                                    <div class="user-avatar"><i class="ph ph-user"></i></div>
                                </div>
                                <div class="profile-dropdown" id="profile-dropdown">
                                    <div class="dropdown-header">
                                        <p class="dropdown-name" id="dropdown-name">User Name</p>
                                        <p class="dropdown-email" id="dropdown-email">user@email.com</p>
                                    </div>
                                    <a href="edit-profile.html" class="dropdown-item" id="btn-edit-profile-link">
                                        <i class="ph ph-pencil-simple"></i> Edit Profile
                                    </a>
                                </div>
                            </div>
                            <div class="points-badge">
                                <div class="points-icon"><i class="ph ph-coins"></i></div>
                                <div class="points-info">
                                    <span class="points-label">Balance (PKR)</span>
                                    <span class="points-value" id="header-points">0</span>
                                </div>
                            </div>
                            <button class="menu-toggle" id="menu-toggle" aria-label="Toggle menu">
                                <span></span>
                                <span></span>
                                <span></span>
                            </button>
                        </div>
                    </div>
                    <div class="mobile-nav" id="mobile-nav">
                        <a href="how-it-works.html" class="mobile-nav-link">How It Works</a>
                        <a href="videos.html" class="mobile-nav-link">Videos</a>
                        <a href="dashboard.html" class="mobile-nav-link">Dashboard</a>
                        <div class="mobile-points">
                            <span>Balance (PKR):</span>
                            <span id="mobile-points">0</span>
                        </div>
                        <button type="button" class="btn btn-text btn-logout-main" id="btn-logout-main">Logout</button>
                    </div>
                </header>

                <main>
                    <section class="hero">
                        <div class="container hero-inner">
                            <h1 class="hero-title">Watch Videos. Earn Rewards.</h1>
                            <p class="hero-subtitle">Complete short video tasks and earn points that you can redeem for cash. Start earning today.</p>
                            <a href="videos.html" class="btn btn-primary">Start Watching</a>
                        </div>
                    </section>

                    <section class="how-it-works" id="how-it-works">
                        <div class="container">
                            <h2 class="section-title">How It Works</h2>
                            <div class="steps-grid">
                                <div class="step-card">
                                    <div class="step-number">1</div>
                                    <h3 class="step-title">Choose a Video</h3>
                                    <p class="step-desc">Browse our library of short videos. Each video shows the points you will earn.</p>
                                </div>
                                <div class="step-card">
                                    <div class="step-number">2</div>
                                    <h3 class="step-title">Watch Completely</h3>
                                    <p class="step-desc">Play the video and watch until the end. Points are credited only after full completion.</p>
                                </div>
                                <div class="step-card">
                                    <div class="step-number">3</div>
                                    <h3 class="step-title">Redeem Rewards</h3>
                                    <p class="step-desc">Accumulate points and redeem them for JazzCash, EasyPaisa, or other rewards.</p>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section class="videos-section" id="videos">
                        <div class="container">
                            <h2 class="section-title">Available Videos</h2>
                            <div class="videos-grid" id="videos-grid"></div>
                        </div>
                    </section>

                    <section class="dashboard-section" id="dashboard">
                <div class="container">
                    <h2 class="section-title">Your Dashboard</h2>
                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <h3 class="dashboard-card-title">Total Points</h3>
                            <p class="dashboard-card-value" id="total-points">0</p>
                            <p class="dashboard-card-hint">Earn more by watching videos</p>
                        </div>
                        <div class="dashboard-card">
                            <h3 class="dashboard-card-title">Videos Watched</h3>
                            <p class="dashboard-card-value" id="videos-watched">0</p>
                            <p class="dashboard-card-hint">Total completed today</p>
                        </div>
                        <div class="dashboard-card">
                            <h3 class="dashboard-card-title">Redeemable</h3>
                            <p class="dashboard-card-value" id="redeemable-value">PKR 0</p>
                            <p class="dashboard-card-hint" id="redeemable-hint">1000 points = PKR 10</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <div class="container footer-inner">
                <div class="footer-brand">WatchEarn</div>
                <div class="footer-links">
                    <a href="index.html">Terms of Service</a>
                    <a href="index.html">Privacy Policy</a>
                    <a href="index.html">FAQ</a>
                    <a href="index.html">Contact</a>
                </div>
                <p class="footer-copy">&copy; 2025 WatchEarn. All rights reserved.</p>
            </div>
        </footer>
            </div> <!-- Close main-content-wrap -->
        </div> <!-- Close app-layout -->

        <div class="modal-overlay" id="modal-overlay">
            <div class="modal" id="video-modal">
                <button class="modal-close" id="modal-close" aria-label="Close">&#215;</button>
                <div class="modal-video-wrap">
                    <div class="video-placeholder" id="video-placeholder">
                    <div class="video-placeholder-content">
                        <div class="play-icon" id="play-btn"><i class="ph ph-play-circle"></i></div>
                        <p class="video-placeholder-text">Click to start watching</p>
                        <p class="video-duration-display">Duration: <span id="video-duration">0</span>s</p>
                    </div>
                </div>
                    <div class="video-progress-wrap">
                        <div class="video-progress-bar">
                            <div class="video-progress-fill" id="progress-fill"></div>
                        </div>
                        <div class="video-timer">
                            <span id="elapsed-time">0s</span>
                            <span id="total-time">0s</span>
                        </div>
                    </div>
                    <p class="earn-notice">Watch until the end to earn <span id="earn-points">0</span> points.</p>
                </div>
                <div class="modal-info">
                    <h3 class="modal-video-title" id="modal-video-title">Video Title</h3>
                    <p class="modal-video-desc" id="modal-video-desc">Video description.</p>
                </div>
            </div>
        </div>

    <!-- Edit Profile Modal -->
    <div class="modal-overlay edit-profile-modal" id="edit-profile-modal-overlay">
        <div class="modal">
            <div class="edit-profile-header">
                <button class="modal-close" id="edit-profile-close">&times;</button>
                <div class="edit-profile-avatar-wrap">
                    <i class="ph ph-user"></i>
                </div>
                <h3 class="edit-profile-title">Edit Profile</h3>
                <p class="edit-profile-subtitle">Update your personal details</p>
            </div>
            <div class="edit-profile-body">
                <form id="form-edit-profile" class="edit-profile-form">
                    <label class="form-label">Full Name</label>
                    <input type="text" id="edit-name" class="form-input" required placeholder="Enter your full name">
                    
                    <label class="form-label">Password</label>
                    <input type="password" id="edit-password" class="form-input" placeholder="Leave blank to keep current">
                    
                    <button type="submit" class="btn btn-primary btn-block">Save Changes</button>
                </form>
            </div>
        </div>
    </div>
    </div>

    <!-- Admin: Pending approvals (e.g. ?admin=1) -->
    <div id="screen-admin" class="screen screen-admin hidden">
        <div class="auth-container">
            <div class="admin-card">
                <h2 class="admin-title">Pending Approvals</h2>
                <p class="admin-subtitle">Approve payment submissions to grant access.</p>
                <div id="admin-list" class="admin-list"></div>
                <a href="index.html" id="admin-back" class="btn btn-text">Back to site</a>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
